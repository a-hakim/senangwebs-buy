!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SWB=e():t.SWB=e()}(this,(()=>{return t={r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={},(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return a(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function o(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,n(a.key),a)}}function n(e){var r=function(e){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(r)?r:r+""}var c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stores=new Map,this.colors={primary:"#007bff",secondary:"#dc3545"},this.products=[],this.filteredProducts=[],this.sortState={field:"name",direction:"asc"},this.currency={code:"USD",symbol:"$"},this.init()},a=[{key:"init",value:function(){this.initializeCatalogs(),this.initializeIndependentButtons(),this.setupEventListeners(),this.updateCustomProperties()}},{key:"initializeStore",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.stores.has(t)||this.stores.set(t,{cart:this.loadCartFromStorage(t),info:{name:e.name||t,whatsapp:e.whatsapp||"",cartEnabled:!1!==e.cartEnabled,floatingCart:e.floatingCart||!1},products:[],filteredProducts:[],sortState:{field:"name",direction:"asc"}}),this.stores.get(t)}},{key:"loadCartFromStorage",value:function(t){var e="swb-cart-".concat(t),r=localStorage.getItem(e);if(r)try{return JSON.parse(r)}catch(t){localStorage.removeItem(e)}return[]}},{key:"saveCartToStorage",value:function(t,e){var r="swb-cart-".concat(t);localStorage.setItem(r,JSON.stringify(e))}},{key:"clearCart",value:function(t){var e=this.stores.get(t);e&&(e.cart=[],this.saveCartToStorage(t,e.cart),this.updateCartCount(t),this.renderCart(t),this.closeCheckout(t))}},{key:"updateCustomProperties",value:function(){document.documentElement.style.setProperty("--swb-color-primary",this.colors.primary),document.documentElement.style.setProperty("--swb-color-secondary",this.colors.secondary);var t=this.hexToRGB(this.colors.primary),e=this.hexToRGB(this.colors.secondary);document.documentElement.style.setProperty("--swb-color-primary-rgb",t),document.documentElement.style.setProperty("--swb-color-secondary-rgb",e)}},{key:"hexToRGB",value:function(t){var e=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),a=parseInt(t.slice(5,7),16);return"".concat(e,", ").concat(r,", ").concat(a)}},{key:"initializeCatalogs",value:function(){var t=this;document.querySelectorAll("[data-swb-catalog]").forEach((function(e){var r=e.getAttribute("data-swb-store-id");if(r){t.initializeStore(r,{name:e.getAttribute("data-swb-store"),whatsapp:e.getAttribute("data-swb-whatsapp"),floatingCart:e.hasAttribute("data-swb-cart-floating"),cartEnabled:"false"!==e.getAttribute("data-swb-cart")});var a=e.getAttribute("data-swb-color-primary"),o=e.getAttribute("data-swb-color-secondary");a&&(t.colors.primary=a),o&&(t.colors.secondary=o);var n=e.getAttribute("data-swb-currency");n&&t.setCurrency(n),t.createCatalogHeader(e,r),t.initializeCatalogProducts(e,r)}}))}},{key:"initializeIndependentButtons",value:function(){var t=this;document.querySelectorAll("[data-swb-cart][data-swb-store-id]").forEach((function(e){if(!e.hasAttribute("data-swb-catalog")){var r=e.getAttribute("data-swb-store-id");t.initializeStore(r,{name:e.getAttribute("data-swb-store"),whatsapp:e.getAttribute("data-swb-whatsapp"),cartEnabled:!0,floatingCart:!1});var a=e.getAttribute("data-swb-color-primary"),o=e.getAttribute("data-swb-color-secondary");a&&(t.colors.primary=a),o&&(t.colors.secondary=o);var n=e.getAttribute("data-swb-currency");n&&t.setCurrency(n),e.addEventListener("click",(function(){t.showCheckout(r)})),e.querySelector("[data-swb-cart-count]")&&t.updateCartCount(r)}})),document.querySelectorAll("[data-swb-product-sku][data-swb-store-id]").forEach((function(e){if(!e.hasAttribute("data-swb-catalog")){var r=e.getAttribute("data-swb-store-id"),a=e.getAttribute("data-swb-product-sku");if(!t.stores.get(r))return void console.warn("Store ".concat(r," not initialized. Make sure you have a cart button with store information."));e.addEventListener("click",(function(){var o={sku:a,name:e.getAttribute("data-swb-product-name")||a,price:parseFloat(e.getAttribute("data-swb-product-price"))||0,quantity:1};t.addToCart(r,o)}))}}))}},{key:"setCurrency",value:function(t){var e={USD:{code:"USD",symbol:"$"},EUR:{code:"EUR",symbol:"€"},GBP:{code:"GBP",symbol:"£"},JPY:{code:"JPY",symbol:"¥"},CNY:{code:"CNY",symbol:"¥"},MYR:{code:"MYR",symbol:"RM"},SGD:{code:"SGD",symbol:"S$"},AUD:{code:"AUD",symbol:"A$"},CAD:{code:"CAD",symbol:"C$"},INR:{code:"INR",symbol:"₹"},KRW:{code:"KRW",symbol:"₩"},THB:{code:"THB",symbol:"฿"},PHP:{code:"PHP",symbol:"₱"},IDR:{code:"IDR",symbol:"Rp"},VND:{code:"VND",symbol:"₫"}};e[t]&&(this.currency=e[t])}},{key:"formatPrice",value:function(t){return"".concat(this.currency.symbol).concat(t.toFixed(2))}},{key:"createCatalogHeader",value:function(t,e){var a=this,o=document.createElement("div");o.classList.add("swb-catalog-header");var n=document.createElement("input");n.type="text",n.placeholder="Search products...",n.classList.add("swb-search-input"),n.addEventListener("input",(function(t){return a.handleSearch(t.target.value,e)}));var c=document.createElement("select");c.classList.add("swb-sort-select"),c.innerHTML='\n            <option value="name-asc">Name (A to Z)</option>\n            <option value="name-desc">Name (Z to A)</option>\n            <option value="price-asc">Price (Low to High)</option>\n            <option value="price-desc">Price (High to Low)</option>\n        ',c.addEventListener("change",(function(t){var o=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var a,o,n,c,i=[],s=!0,u=!1;try{if(n=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(a=n.call(r)).done)&&(i.push(a.value),i.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw o}}return i}}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.target.value.split("-"),2),n=o[0],c=o[1];a.handleSort(n,c,e)}));var i=document.createElement("div");i.classList.add("swb-catalog-header-control"),i.appendChild(c);var s=this.stores.get(e),u=s.cart.reduce((function(t,e){return t+e.quantity}),0);if(!s.info.floatingCart&&s.info.cartEnabled){var l=document.createElement("button");l.classList.add("swb-cart-button"),l.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 576 512">\n                    <path d="M528.1 301.3l47.3-208C578.8 78.3 567.4 64 552 64H159.2l-9.2-44.8C147.8 8 137.9 0 126.5 0H24C10.7 0 0 10.7 0 24v16c0 13.3 10.7 24 24 24h69.9l70.2 343.4C147.3 417.1 136 435.2 136 456c0 30.9 25.1 56 56 56s56-25.1 56-56c0-15.7-6.4-29.8-16.8-40h209.6C430.4 426.2 424 440.3 424 456c0 30.9 25.1 56 56 56s56-25.1 56-56c0-22.2-12.9-41.3-31.6-50.4l5.5-24.3c3.4-15-8-29.3-23.4-29.3H218.1l-6.5-32h293.1c11.2 0 20.9-7.8 23.4-18.7z"/>\n                </svg>\n                <span class="swb-cart-count" data-swb-cart-count>'.concat(u,"</span>\n            "),l.addEventListener("click",(function(){return a.showCheckout(e)})),i.appendChild(l)}o.appendChild(n),o.appendChild(i),t.insertBefore(o,t.firstChild)}},{key:"initializeCatalogProducts",value:function(t,r){var a=this,o=this.stores.get(r);if(o){var n=t.querySelectorAll("[data-swb-product]");o.products=Array.from(n).map((function(t){return{element:t,sku:t.getAttribute("data-swb-product-sku"),name:t.getAttribute("data-swb-product-name"),price:parseFloat(t.getAttribute("data-swb-product-price"))}})),o.filteredProducts=e(o.products),o.products.forEach((function(t){a.initializeProduct(t.element,r)}))}}},{key:"initializeProduct",value:function(t,e){var r=this,a=t.querySelector("[data-swb-product-buttons]");if(a){var o=t.getAttribute("data-swb-product-link"),n=t.getAttribute("data-swb-product-link-title");if(o&&n){var c=document.createElement("a");c.href=o,c.target="_blank",c.rel="noopener noreferrer",c.classList.add("swb-external-link"),c.innerHTML="<span>".concat(n,"</span>"),a.appendChild(c)}var i=this.stores.get(e);if(i&&i.info.cartEnabled){var s=t.getAttribute("data-swb-product-add-cart-title"),u=document.createElement("button");u.textContent=s||"Add to Cart",u.classList.add("swb-add-to-cart"),u.onclick=function(){var a={sku:t.getAttribute("data-swb-product-sku"),name:t.getAttribute("data-swb-product-name"),price:parseFloat(t.getAttribute("data-swb-product-price")),quantity:1};r.addToCart(e,a)},a.appendChild(u)}}}},{key:"handleSearch",value:function(t,e){var r=this.stores.get(e);r&&(t=t.toLowerCase(),r.filteredProducts=r.products.filter((function(e){return e.name.toLowerCase().includes(t)||e.sku.toLowerCase().includes(t)})),this.updateProductDisplay(e))}},{key:"handleSort",value:function(t,r,a){var o=this.stores.get(a);if(o){o.sortState.field=t,o.sortState.direction=r;var n=e(o.filteredProducts);n.sort((function(e,a){var o,n;return"price"===t?(o=e.price,n=a.price):(o=e.name.toLowerCase(),n=a.name.toLowerCase()),"price"===t?"asc"===r?o-n:n-o:"asc"===r?o.localeCompare(n):n.localeCompare(o)})),o.filteredProducts=n,this.updateProductDisplay(a)}}},{key:"updateProductDisplay",value:function(t){var e=this.stores.get(t);if(e){var r=document.querySelector('[data-swb-catalog][data-swb-store-id="'.concat(t,'"]'));if(r){var a=r.querySelector(".grid");a&&(Array.from(a.children).forEach((function(t){a.removeChild(t)})),e.filteredProducts.forEach((function(t){a.appendChild(t.element)})))}}}},{key:"setupEventListeners",value:function(){var t=this;document.addEventListener("click",(function(e){if(e.target.matches(".swb-modal-close")||e.target.closest(".swb-modal-close")){var r=e.target.closest(".swb-cart-modal");if(r){var a=r.getAttribute("data-swb-store-id");t.closeCheckout(a)}}}))}},{key:"updateCartCount",value:function(t){var e=this.stores.get(t);if(e){var r=e.cart.reduce((function(t,e){return t+e.quantity}),0);document.querySelectorAll('[data-swb-store-id="'.concat(t,'"] [data-swb-cart-count]')).forEach((function(t){t.textContent=r})),document.querySelectorAll('.swb-cart-modal[data-swb-store-id="'.concat(t,'"] .swb-cart-count')).forEach((function(t){t.closest(".swb-cart-subheader")?t.textContent=e.cart.length:t.textContent=r}))}}},{key:"addToCart",value:function(t,e){var r=this.stores.get(t);if(r){var a=r.cart.find((function(t){return t.sku===e.sku}));a?a.quantity++:r.cart.push(e),this.saveCartToStorage(t,r.cart),this.updateCartCount(t),this.renderCart(t)}}},{key:"renderCart",value:function(t){var e=this,r=document.querySelector('.swb-cart-modal[data-swb-store-id="'.concat(t,'"]'));if(r){var a=this.stores.get(t);if(a){var o=r.querySelector(".swb-cart-items");o.innerHTML="",a.cart.forEach((function(r){var a=document.createElement("div");a.classList.add("swb-cart-item"),a.innerHTML='\n                <div class="swb-item-name">'.concat(r.name,'</div>\n                <div class="swb-item-quantity">\n                    <button onclick="swb.updateQuantity(\'').concat(t,"', '").concat(r.sku,'\', -1)">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="12" height="12" fill="currentColor">\n                            <path d="M416 208H32c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32v-32c0-17.7-14.3-32-32-32z"/>\n                        </svg>\n                    </button>\n                    <span>').concat(r.quantity,"</span>\n                    <button onclick=\"swb.updateQuantity('").concat(t,"', '").concat(r.sku,'\', 1)">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="12" height="12" fill="currentColor">\n                            <path d="M416 208H272V64c0-17.7-14.3-32-32-32h-32c-17.7 0-32 14.3-32 32v144H32c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h144v144c0 17.7 14.3 32 32 32h32c17.7 0 32-14.3 32-32V304h144c17.7 0 32-14.3 32-32v-32c0-17.7-14.3-32-32-32z"/>\n                        </svg>\n                    </button>\n                </div>\n                <div class="swb-item-price">').concat(e.formatPrice(r.price*r.quantity),"</div>\n                <button onclick=\"swb.removeFromCart('").concat(t,"', '").concat(r.sku,'\')" class="swb-remove-item">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 352 512">\n                        <path d="M242.7 256l100.1-100.1c12.3-12.3 12.3-32.2 0-44.5l-22.2-22.2c-12.3-12.3-32.2-12.3-44.5 0L176 189.3 75.9 89.2c-12.3-12.3-32.2-12.3-44.5 0L9.2 111.5c-12.3 12.3-12.3 32.2 0 44.5L109.3 256 9.2 356.1c-12.3 12.3-12.3 32.2 0 44.5l22.2 22.2c12.3 12.3 32.2 12.3 44.5 0L176 322.7l100.1 100.1c12.3 12.3 32.2 12.3 44.5 0l22.2-22.2c12.3-12.3 12.3-32.2 0-44.5L242.7 256z"/>\n                    </svg>\n                </button>\n            '),o.appendChild(a)})),this.updateTotal(t)}}}},{key:"updateQuantity",value:function(t,e,r){var a=this.stores.get(t);if(a){var o=a.cart.find((function(t){return t.sku===e}));o&&(o.quantity+=r,o.quantity<=0?this.removeFromCart(t,e):(this.saveCartToStorage(t,a.cart),this.renderCart(t),this.updateCartCount(t)))}}},{key:"removeFromCart",value:function(t,e){var r=this.stores.get(t);r&&(r.cart=r.cart.filter((function(t){return t.sku!==e})),this.saveCartToStorage(t,r.cart),this.renderCart(t),this.updateCartCount(t))}},{key:"updateTotal",value:function(t){var e=this.stores.get(t);if(e){var r=e.cart.reduce((function(t,e){return t+e.price*e.quantity}),0),a=document.querySelector('.swb-cart-modal[data-swb-store-id="'.concat(t,'"] .swb-cart-total'));a&&(a.textContent="Total: ".concat(this.formatPrice(r)))}}},{key:"showCheckout",value:function(t){var e=this,r=this.stores.get(t);if(r&&0!==r.cart.length){var a=document.querySelector('.swb-cart-modal[data-swb-store-id="'.concat(t,'"]'));if(!a){(a=document.createElement("div")).classList.add("swb-cart-modal"),a.setAttribute("data-swb-store-id",t),a.innerHTML='\n                <div class="swb-modal-content">\n                    <div class="swb-cart-header">\n                        <h2>Your Cart</h2>\n                    </div>\n                    <div class="swb-modal-close">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" width="16" height="16" fill="currentColor">\n                            <path d="M242.7 256l100.1-100.1c12.3-12.3 12.3-32.2 0-44.5l-22.2-22.2c-12.3-12.3-32.2-12.3-44.5 0L176 189.3 75.9 89.2c-12.3-12.3-32.2-12.3-44.5 0L9.2 111.5c-12.3 12.3-12.3 32.2 0 44.5L109.3 256 9.2 356.1c-12.3 12.3-12.3 32.2 0 44.5l22.2 22.2c12.3 12.3 32.2 12.3 44.5 0L176 322.7l100.1 100.1c12.3 12.3 32.2 12.3 44.5 0l22.2-22.2c12.3-12.3 12.3-32.2 0-44.5L242.7 256z"/>\n                        </svg>\n                    </div>\n                    <div class="swb-cart-subheader">\n                        <p>Items</p>\n                        <button class="swb-clear-cart">Clear All</button>\n                    </div>\n                    <div class="swb-cart-items"></div>\n                    <div class="swb-cart-total">Total: '.concat(this.formatPrice(0),'</div>\n                    <form class="swb-checkout-form">\n                        <h2>Billing Details</h2>\n                        <input type="text" name="name" placeholder="Full Name" required>\n                        <input type="email" name="email" placeholder="Email" required>\n                        <input type="tel" name="phone" placeholder="Phone Number" required>\n                        <textarea name="address" placeholder="Delivery Address" required></textarea>\n                        <button type="submit">Proceed to WhatsApp</button>\n                    </form>\n                </div>\n            '),document.body.appendChild(a);var o=a.querySelector(".swb-checkout-form");o.onsubmit=function(r){r.preventDefault(),e.processCheckout(t,new FormData(o))},a.querySelector(".swb-clear-cart").onclick=function(){confirm("Are you sure you want to clear your cart?")&&e.clearCart(t)}}this.renderCart(t),this.updateCartCount(t),a.style.display="block"}else alert("Your cart is empty")}},{key:"closeCheckout",value:function(t){var e=document.querySelector('.swb-cart-modal[data-swb-store-id="'.concat(t,'"]'));e&&(e.style.display="none")}},{key:"processCheckout",value:function(t,e){var r=this.stores.get(t);if(r){var a={name:e.get("name"),email:e.get("email"),phone:e.get("phone"),address:e.get("address")},o=this.formatWhatsAppMessage(t,a),n="https://wa.me/".concat(r.info.whatsapp,"?text=").concat(encodeURIComponent(o));window.open(n,"_blank"),this.clearCart(t)}}},{key:"formatWhatsAppMessage",value:function(t,e){var r=this,a=this.stores.get(t);if(!a)return"";var o=(new Date).toLocaleString(),n="New Order from ".concat(a.info.name,"\n");n+="Date: ".concat(o,"\n\n"),n+="Customer Information:\n",n+="Name: ".concat(e.name,"\n"),n+="Email: ".concat(e.email,"\n"),n+="Phone: ".concat(e.phone,"\n"),n+="Address: ".concat(e.address,"\n\n"),n+="Order Details:\n",a.cart.forEach((function(t){n+="- ".concat(t.name," (SKU: ").concat(t.sku,")\n"),n+="  Quantity: ".concat(t.quantity,"\n"),n+="  Price: ".concat(r.formatPrice(t.price*t.quantity),"\n\n")}));var c=a.cart.reduce((function(t,e){return t+e.price*e.quantity}),0);return n+="Total Amount: ".concat(this.formatPrice(c))}}],a&&o(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,a}();window.swb=new c})(),(()=>{"use strict";t.r(e)})(),e;var t,e}));