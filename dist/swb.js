!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SWB=e():t.SWB=e()}(this,(()=>{return t={r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={},(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cart=[],this.storeInfo={},this.colors={primary:"#007bff",secondary:"#dc3545"},this.products=[],this.filteredProducts=[],this.sortState={field:"name",direction:"asc"},this.currency={code:"USD",symbol:"$"},this.init()},r=[{key:"init",value:function(){this.loadCartFromStorage(),this.initializeCatalog(),this.setupEventListeners(),this.updateCartCount(),this.renderCart()}},{key:"loadCartFromStorage",value:function(){var t=localStorage.getItem("swb-cart");if(t)try{this.cart=JSON.parse(t)}catch(t){this.cart=[],localStorage.removeItem("swb-cart")}}},{key:"saveCartToStorage",value:function(){localStorage.setItem("swb-cart",JSON.stringify(this.cart))}},{key:"clearCart",value:function(){this.cart=[],this.saveCartToStorage(),this.updateCartCount(),this.renderCart(),this.closeCheckout()}},{key:"updateCustomProperties",value:function(){document.documentElement.style.setProperty("--swb-color-primary",this.colors.primary),document.documentElement.style.setProperty("--swb-color-secondary",this.colors.secondary);var t=this.hexToRGB(this.colors.primary),e=this.hexToRGB(this.colors.secondary);document.documentElement.style.setProperty("--swb-color-primary-rgb",t),document.documentElement.style.setProperty("--swb-color-secondary-rgb",e)}},{key:"hexToRGB",value:function(t){var e=parseInt(t.slice(1,3),16),n=parseInt(t.slice(3,5),16),r=parseInt(t.slice(5,7),16);return"".concat(e,", ").concat(n,", ").concat(r)}},{key:"initializeCatalog",value:function(){var t=this,n=document.querySelector("[data-swb-catalog]");if(n){this.storeInfo={name:n.getAttribute("data-swb-store"),whatsapp:n.getAttribute("data-swb-whatsapp"),floatingCart:n.hasAttribute("data-swb-cart-floating"),cartEnabled:"false"!==n.getAttribute("data-swb-cart")};var r=n.getAttribute("data-swb-color-primary"),o=n.getAttribute("data-swb-color-secondary");r&&(this.colors.primary=r),o&&(this.colors.secondary=o),this.updateCustomProperties();var a=n.getAttribute("data-swb-currency");a&&this.setCurrency(a),this.createCatalogHeader(n);var c=n.querySelectorAll("[data-swb-product]");this.products=Array.from(c).map((function(t){return t.querySelector("[data-swb-product-name]"),{element:t,sku:t.getAttribute("data-swb-product-sku"),name:t.getAttribute("data-swb-product-name"),price:parseFloat(t.getAttribute("data-swb-product-price"))}})),this.filteredProducts=e(this.products),this.products.forEach((function(e){t.initializeProduct(e.element)}))}}},{key:"setCurrency",value:function(t){var e={USD:{code:"USD",symbol:"$"},EUR:{code:"EUR",symbol:"€"},GBP:{code:"GBP",symbol:"£"},JPY:{code:"JPY",symbol:"¥"},CNY:{code:"CNY",symbol:"¥"},MYR:{code:"MYR",symbol:"RM"},SGD:{code:"SGD",symbol:"S$"},AUD:{code:"AUD",symbol:"A$"},CAD:{code:"CAD",symbol:"C$"},INR:{code:"INR",symbol:"₹"},KRW:{code:"KRW",symbol:"₩"},THB:{code:"THB",symbol:"฿"},PHP:{code:"PHP",symbol:"₱"},IDR:{code:"IDR",symbol:"Rp"},VND:{code:"VND",symbol:"₫"},KZT:{code:"KZT",symbol:"₸"},PLN:{code:"PLN",symbol:"zł"}};e[t]&&(this.currency=e[t])}},{key:"formatPrice",value:function(t){return"".concat(this.currency.symbol).concat(t.toFixed(2))}},{key:"createCatalogHeader",value:function(t){var e=this,r=document.createElement("div");r.classList.add("swb-catalog-header");var o=document.createElement("input");o.type="text",o.placeholder="Search products...",o.classList.add("swb-search-input"),o.addEventListener("input",(function(t){return e.handleSearch(t.target.value)}));var a=document.createElement("select");a.classList.add("swb-sort-select"),a.innerHTML='\n            <option value="name-asc">Name (A to Z)</option>\n            <option value="name-desc">Name (Z to A)</option>\n            <option value="price-asc">Price (Low to High)</option>\n            <option value="price-desc">Price (High to Low)</option>\n        ',a.addEventListener("change",(function(t){var r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,c,i=[],s=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(i.push(r.value),i.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return i}}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.target.value.split("-"),2),o=r[0],a=r[1];e.handleSort(o,a)}));var c=document.createElement("div");if(c.classList.add("swb-catalog-header-control"),c.appendChild(a),!this.storeInfo.floatingCart&&this.storeInfo.cartEnabled){var i=document.createElement("button");i.classList.add("swb-cart-button"),i.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 576 512">\n                    <path d="M528.1 301.3l47.3-208C578.8 78.3 567.4 64 552 64H159.2l-9.2-44.8C147.8 8 137.9 0 126.5 0H24C10.7 0 0 10.7 0 24v16c0 13.3 10.7 24 24 24h69.9l70.2 343.4C147.3 417.1 136 435.2 136 456c0 30.9 25.1 56 56 56s56-25.1 56-56c0-15.7-6.4-29.8-16.8-40h209.6C430.4 426.2 424 440.3 424 456c0 30.9 25.1 56 56 56s56-25.1 56-56c0-22.2-12.9-41.3-31.6-50.4l5.5-24.3c3.4-15-8-29.3-23.4-29.3H218.1l-6.5-32h293.1c11.2 0 20.9-7.8 23.4-18.7z"/>\n                </svg>\n                <span class="swb-cart-count">0</span>\n            ',i.addEventListener("click",(function(){return e.showCheckout()})),c.appendChild(i)}r.appendChild(o),r.appendChild(c),t.insertBefore(r,t.firstChild)}},{key:"handleSearch",value:function(t){t=t.toLowerCase(),this.filteredProducts=this.products.filter((function(e){return e.name.toLowerCase().includes(t)||e.sku.toLowerCase().includes(t)})),this.updateProductDisplay()}},{key:"handleSort",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.sortState.field=t,this.sortState.direction=n;var r=e(this.filteredProducts);r.sort((function(e,r){var o,a;return"price"===t?(o=e.price,a=r.price):(o=e.name.toLowerCase(),a=r.name.toLowerCase()),"price"===t?"asc"===n?o-a:a-o:"asc"===n?o.localeCompare(a):a.localeCompare(o)})),this.filteredProducts=r,this.updateProductDisplay()}},{key:"updateSortIndicators",value:function(){var t=this;document.querySelectorAll(".swb-sort-indicator").forEach((function(t){t.textContent=""})),document.querySelectorAll(".swb-sort-button").forEach((function(e){var n=e.textContent.toLowerCase();if("name"===t.sortState.field&&n.includes("name")||"price"===t.sortState.field&&n.includes("price")){var r=e.querySelector(".swb-sort-indicator");r&&(r.textContent="asc"===t.sortState.direction?" ↑":" ↓")}}))}},{key:"updateProductDisplay",value:function(){var t=document.querySelector("[data-swb-catalog]");if(t){var e=t.querySelector(".grid");e&&(Array.from(e.children).forEach((function(t){e.removeChild(t)})),this.filteredProducts.forEach((function(t){e.appendChild(t.element)})))}}},{key:"setupEventListeners",value:function(){var t=this;this.storeInfo.floatingCart&&this.storeInfo.cartEnabled&&this.createCartIcon(),document.addEventListener("click",(function(e){e.target.classList.contains("swb-modal-close")&&t.closeCheckout()}))}},{key:"updateCartCount",value:function(){var t=this,e=this.cart.reduce((function(t,e){return t+e.quantity}),0);document.querySelectorAll(".swb-cart-count").forEach((function(n){n.closest(".swb-cart-subheader")?n.textContent=t.cart.length:n.textContent=e}))}},{key:"adjustColor",value:function(t,e){var n=function(t){return Math.min(255,Math.max(0,t))},r=t.replace("#",""),o=parseInt(r.substr(0,2),16),a=parseInt(r.substr(2,2),16),c=parseInt(r.substr(4,2),16);return"#"+[n(o+e),n(a+e),n(c+e)].map((function(t){return t.toString(16).padStart(2,"0")})).join("")}},{key:"initializeProduct",value:function(t){var e=this,n=t.querySelector("[data-swb-product-buttons]");if(n){var r=t.getAttribute("data-swb-product-link"),o=t.getAttribute("data-swb-product-link-title");if(r&&o){var a=document.createElement("a");a.href=r,a.target="_blank",a.rel="noopener noreferrer",a.classList.add("swb-external-link"),a.innerHTML="\n                <span>".concat(o,"</span>\n            "),n.appendChild(a)}var c=t.getAttribute("data-swb-product-add-cart-title");if(this.storeInfo.cartEnabled){var i=document.createElement("button");i.textContent=c||"Add to Cart",i.classList.add("swb-add-to-cart"),i.onclick=function(){return e.addToCart(t)},n.appendChild(i)}}}},{key:"createCartIcon",value:function(){var t=this,e=document.createElement("div");e.classList.add("swb-cart-icon");var n=this.cart.reduce((function(t,e){return t+e.quantity}),0);e.innerHTML='\n            <div class="swb-cart-count">'.concat(n,'</div>\n            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 576 512">\x3c!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M528.1 301.3l47.3-208C578.8 78.3 567.4 64 552 64H159.2l-9.2-44.8C147.8 8 137.9 0 126.5 0H24C10.7 0 0 10.7 0 24v16c0 13.3 10.7 24 24 24h69.9l70.2 343.4C147.3 417.1 136 435.2 136 456c0 30.9 25.1 56 56 56s56-25.1 56-56c0-15.7-6.4-29.8-16.8-40h209.6C430.4 426.2 424 440.3 424 456c0 30.9 25.1 56 56 56s56-25.1 56-56c0-22.2-12.9-41.3-31.6-50.4l5.5-24.3c3.4-15-8-29.3-23.4-29.3H218.1l-6.5-32h293.1c11.2 0 20.9-7.8 23.4-18.7z"/></svg>\n        '),e.onclick=function(){return t.showCheckout()},document.body.appendChild(e)}},{key:"addToCart",value:function(t){var e={sku:t.getAttribute("data-swb-product-sku"),name:t.getAttribute("data-swb-product-name"),price:parseFloat(t.getAttribute("data-swb-product-price")),quantity:1},n=this.cart.find((function(t){return t.sku===e.sku}));n?n.quantity++:this.cart.push(e),this.saveCartToStorage(),this.updateCartCount(),this.renderCart()}},{key:"renderCart",value:function(){var t=this,e=document.querySelector(".swb-cart-modal");if(e){var n=e.querySelector(".swb-cart-items");n.innerHTML="",this.cart.forEach((function(e){var r=document.createElement("div");r.classList.add("swb-cart-item"),r.innerHTML='\n                <div class="swb-item-name">'.concat(e.name,'</div>\n                <div class="swb-item-quantity">\n                    <button onclick="swb.updateQuantity(\'').concat(e.sku,'\', -1)">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="12" height="12" fill="currentColor">\x3c!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M416 208H32c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32v-32c0-17.7-14.3-32-32-32z"/></svg>\n                    </button>\n                    <span>').concat(e.quantity,"</span>\n                    <button onclick=\"swb.updateQuantity('").concat(e.sku,'\', 1)">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="12" height="12" fill="currentColor">\x3c!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M416 208H272V64c0-17.7-14.3-32-32-32h-32c-17.7 0-32 14.3-32 32v144H32c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h144v144c0 17.7 14.3 32 32 32h32c17.7 0 32-14.3 32-32V304h144c17.7 0 32-14.3 32-32v-32c0-17.7-14.3-32-32-32z"/></svg>\n                    </button>\n                </div>\n                <div class="swb-item-price">').concat(t.formatPrice(e.price*e.quantity),"</div>\n                <button onclick=\"swb.removeFromCart('").concat(e.sku,'\')" class="swb-remove-item">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 352 512">\x3c!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M242.7 256l100.1-100.1c12.3-12.3 12.3-32.2 0-44.5l-22.2-22.2c-12.3-12.3-32.2-12.3-44.5 0L176 189.3 75.9 89.2c-12.3-12.3-32.2-12.3-44.5 0L9.2 111.5c-12.3 12.3-12.3 32.2 0 44.5L109.3 256 9.2 356.1c-12.3 12.3-12.3 32.2 0 44.5l22.2 22.2c12.3 12.3 32.2 12.3 44.5 0L176 322.7l100.1 100.1c12.3 12.3 32.2 12.3 44.5 0l22.2-22.2c12.3-12.3 12.3-32.2 0-44.5L242.7 256z"/></svg>\n                </button>\n            '),n.appendChild(r)})),this.updateTotal()}}},{key:"updateQuantity",value:function(t,e){var n=this.cart.find((function(e){return e.sku===t}));n&&(n.quantity+=e,n.quantity<=0?this.removeFromCart(t):(this.saveCartToStorage(),this.renderCart(),this.updateCartCount()))}},{key:"removeFromCart",value:function(t){this.cart=this.cart.filter((function(e){return e.sku!==t})),this.saveCartToStorage(),this.renderCart(),this.updateCartCount()}},{key:"updateTotal",value:function(){var t=this.cart.reduce((function(t,e){return t+e.price*e.quantity}),0),e=document.querySelector(".swb-cart-total");e&&(e.textContent="Total: ".concat(this.formatPrice(t)))}},{key:"showCheckout",value:function(){var t=this;if(0!==this.cart.length){var e=document.querySelector(".swb-cart-modal");if(!e){(e=document.createElement("div")).classList.add("swb-cart-modal"),e.innerHTML='\n                <div class="swb-modal-content">\n                    <button class="swb-modal-close">\n                        ╳\n\n                    </button>\n                    <div class="swb-cart-header">\n                        <h2>Your Cart</h2>\n                    </div>\n                    <div class="swb-cart-subheader">\n                        <p>Items</p>\n                        <button class="swb-clear-cart">Clear All</button>\n                    </div>\n                    <div class="swb-cart-items"></div>\n                    <div class="swb-cart-total">Total: $0.00</div>\n                    <form class="swb-checkout-form">\n                        <h2>Billing Details</h2>\n                        <input type="text" name="name" placeholder="Full Name" required>\n                        <input type="email" name="email" placeholder="Email" required>\n                        <input type="tel" name="phone" placeholder="Phone Number" required>\n                        <textarea name="address" placeholder="Delivery Address" required></textarea>\n                        <button type="submit">Proceed to WhatsApp</button>\n                    </form>\n                </div>\n            ',document.body.appendChild(e);var n=e.querySelector(".swb-checkout-form");n.onsubmit=function(e){e.preventDefault(),t.processCheckout(new FormData(n))},e.querySelector(".swb-clear-cart").onclick=function(){confirm("Are you sure you want to clear your cart?")&&t.clearCart()}}this.renderCart(),this.updateCartCount(),e.style.display="block"}else alert("Your cart is empty")}},{key:"closeCheckout",value:function(){var t=document.querySelector(".swb-cart-modal");t&&(t.style.display="none")}},{key:"processCheckout",value:function(t){var e={name:t.get("name"),email:t.get("email"),phone:t.get("phone"),address:t.get("address")},n=this.formatWhatsAppMessage(e),r="https://wa.me/".concat(this.storeInfo.whatsapp,"?text=").concat(encodeURIComponent(n));window.open(r,"_blank"),localStorage.removeItem("swb-cart"),this.cart=[],this.updateCartCount(),this.closeCheckout()}},{key:"formatWhatsAppMessage",value:function(t){var e=this,n=(new Date).toLocaleString(),r="New Order from ".concat(this.storeInfo.name,"\n");r+="Date: ".concat(n,"\n\n"),r+="Customer Information:\n",r+="Name: ".concat(t.name,"\n"),r+="Email: ".concat(t.email,"\n"),r+="Phone: ".concat(t.phone,"\n"),r+="Address: ".concat(t.address,"\n\n"),r+="Order Details:\n",this.cart.forEach((function(t){r+="- ".concat(t.name," (SKU: ").concat(t.sku,")\n"),r+="  Quantity: ".concat(t.quantity,"\n"),r+="  Price: ".concat(e.formatPrice(t.price*t.quantity),"\n\n")}));var o=this.cart.reduce((function(t,e){return t+e.price*e.quantity}),0);return r+="Total Amount: ".concat(this.formatPrice(o))}}],r&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r}(),i=document.createElement("style");i.textContent="\n    .swb-cart-icon {\n        position: fixed;\n        bottom: 20px;\n        right: 20px;\n    }\n\n    .swb-search-input {\n        width: 100%;\n        min-width: 200px;\n    }\n\n    .swb-cart-modal {\n        display: none;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.5);\n        z-index: 1001;\n    }\n\n    .swb-modal-content {\n        position: relative;\n        background: white;\n        margin: 32px auto;\n        padding: 20px;\n        width: 90%;\n        max-width: 600px;\n        border-radius: 16px;\n    }\n\n    .swb-modal-close {\n        position: absolute;\n        right: 20px;\n        top: 20px;\n        width: 20px;\n        height: 20px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 16px;\n        cursor: pointer;\n        border: none;\n        background: none;\n    }\n\n    .swb-cart-item {\n        display: grid;\n        grid-template-columns: 2fr 1fr 1fr auto;\n        gap: 8px;\n        align-items: center;\n        padding: 8px 0;\n        border-bottom: 1px solid #eee;\n    }\n\n    .swb-cart-total {\n        padding: 16px 0;\n        font-weight: bold;\n        font-size: 18px;\n        text-align: center;\n        border-bottom: 1px solid #eee;\n    }\n\n    .swb-checkout-form {\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n        margin-top: 12px;\n    }\n\n    .swb-checkout-form h2 {\n        font-size: 12px;\n        font-weight: bold;\n    }\n\n    .swb-checkout-form input,\n    .swb-checkout-form textarea {\n        padding: 8px;\n        border: 1px solid #ddd;\n        border-radius: 8px;\n    }\n\n    .swb-item-quantity {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n    }\n",document.head.appendChild(i),window.swb=new c})(),(()=>{"use strict";t.r(e)})(),e;var t,e}));